(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{186:function(e,t,n){"use strict";var r,a=n(0),l=n.n(a),c=n(5),i=n(274),o=n(171),s=n(7),u=n.n(s),f=n(6),d=n.n(f),m=n(9),h=n.n(m),p=n(3),y=n.n(p),E=n(8),g=n.n(E),k=n(27),v=n.n(k),x=n(17),C=n(2),b=n(56),R=n(177),w=n.n(R),q=n(78),H=n(52),S=n.n(H),D=n(21),I=n.n(D),j=function(){function e(t=new P){u()(this,e),this.service=t}return d()(e,[{key:"createHelper",value:function(e){return this.service.createHelper(e)}},{key:"createHelpRequest",value:function(e){return this.service.createHelpRequest(e)}},{key:"findHelpers",value:function(e){return this.service.findHelpers(e)}},{key:"notifyHelpers",value:function(e){return this.service.notifyHelpers(e)}},{key:"getHelpRequests",value:function(){return this.service.getHelpRequests()}}]),e}();!function(e){e.Helper="helper",e.HelpRequest="HelpRequest"}(r||(r={}));var P=function(){function e(){u()(this,e)}return d()(e,[{key:"createHelper",value:function(e){return this.post(r.Helper,e)}},{key:"createHelpRequest",value:function(e){return this.post(r.HelpRequest,e)}},{key:"findHelpers",value:function(e){return Promise.resolve({count:3,skills:[{skill:{id:4,name:"Erste Hilfe"},count:2},{skill:{id:2,name:"Altenpflege"},count:1}]})}},{key:"notifyHelpers",value:function(e){return Promise.resolve()}},{key:"getHelpRequests",value:function(){var e=[{id:1,name:"Hans Gustafson",email:"hans@gustafson.de",phone:"0151 / 472254841",postcode:"23560"},{id:2,name:"Ali Yang\xfcrk",email:"ali.yang\xfcrk@gmail.com",phone:"0176 / 572121244",postcode:"23558"},{id:3,name:"Tanja Toasterhausen",email:"toastertanne@web.de",phone:"0162 / 1745124",postcode:"23558"},{id:4,name:"Sarah Saarhusen",email:"sarah@saarhusen.de",phone:"0162 / 2451845",postcode:"22574"}],t=[{id:1,name:"Am Tannenbusch 13",created_at:"22.03.2020 17:12 Uhr",date_start:"23.03.2020 14:00 Uhr",roles:[],skills:[],helpers:e},{id:2,name:"Rapsacker 27",created_at:"22.03.2020 17:12 Uhr",date_start:"23.03.2020 14:00 Uhr",roles:[],skills:[],helpers:e},{id:3,name:"Am Teich 4",created_at:"22.03.2020 17:12 Uhr",date_start:"23.03.2020 14:00 Uhr",roles:[],skills:[],helpers:e},{id:4,name:"Unter den Linden 27",created_at:"22.03.2020 17:12 Uhr",date_start:"23.03.2020 14:00 Uhr",roles:[],skills:[],helpers:e}];return this.get(r.HelpRequest,t)}},{key:"get",value:function(e,t){return Promise.resolve(t)}},{key:"post",value:function(e,t){var n=I()({},t);return n.id=1,Promise.resolve(n)}}]),e}();P.HOST="http://127.0.0.1/",P.ENDPOINT_PREFIX="api/v1/";var O=j;function T(e){var t=Object(a.useState)(0),n=v()(t,2),r=n[0],c=n[1],i=Object(a.useState)(e.helpRequest),o=v()(i,2),s=o[0],u=(o[1],new O);return Object(a.useEffect)((function(){!function(){var t,n;S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.helpRequest,r.next=3,S.a.awrap(u.findHelpers({longitude:0,latitude:0,requiredSkills:t.skills}));case 3:n=r.sent,void 0===t.skills||0==t.skills.length?c(n.count):t.skills.length>=2?c(1):c(2);case 5:case"end":return r.stop()}}),null,null,null,Promise)}()}),[s.skills]),l.a.createElement(x.a,{style:{fontSize:e.fontSize}},r)}function _(e){return l.a.createElement(C.a,{style:{flex:1,justifyContent:"flex-start",alignItems:"center",padding:5}},l.a.createElement(C.a,{style:{backgroundColor:"grey",width:100,height:100,borderRadius:50,borderWidth:3,justifyContent:"center",alignItems:"center"}},l.a.createElement(T,{helpRequest:e.helpRequest,render:e.render,fontSize:75})))}var z=n(41);function A(e){return l.a.createElement(x.a,{style:{flex:1}},"Melde dich jetzt bei"," ",l.a.createElement(T,{helpRequest:e.helpRequest,fontSize:30})," ","potentiellen Helfern in deiner N\xe4he. Beschreibe in deiner Nachricht den Einsatz m\xf6glichst genau.")}var U=n(84);function N(e){var t=Object(a.useState)([{role:{id:0,name:"Pflerger*in"},checked:!1},{role:{id:1,name:"Reinigungskraft"},checked:!1},{role:{id:2,name:"Sanit\xe4ter"},checked:!1},{role:{id:3,name:"Noch mehr"},checked:!1}]),n=v()(t,2),r=n[0],c=n[1],i=function(){var t=r.filter((function(e){return!0===e.checked})).map((function(e,t){return e.role})),n=e.helpRequest;n.roles=t,e.setHelpRequest(n)};return l.a.createElement(C.a,{style:{flex:1,backgroundColor:"green"}},l.a.createElement(C.a,{style:{flex:1,justifyContent:"flex-start",alignItems:"center"}},l.a.createElement(x.a,null,"Rollen")),l.a.createElement(C.a,{style:{flex:10}},l.a.createElement(z.b,{data:r,renderItem:function(e){var t=e.item;return l.a.createElement(C.a,{style:{flex:1,flexDirection:"row"}},l.a.createElement(U.a,{value:t.checked,onValueChange:function(e){!function(e,t){var n=r.slice();n[e.role.id].checked=t,c(n),i()}(t,e)}}),l.a.createElement(x.a,null,t.role.name))}})))}function W(e){var t=Object(a.useState)([{skill:{id:0,name:"Erste Hilfe"},checked:!1},{skill:{id:1,name:"Altenpflege"},checked:!1},{skill:{id:2,name:"Noch mehr"},checked:!1}]),n=v()(t,2),r=n[0],c=n[1],i=function(){var t=r.filter((function(e){return!0===e.checked})).map((function(e,t){return e.skill})),n=e.helpRequest;n.skills=t,e.setHelpRequest(n)};return l.a.createElement(C.a,{style:{flex:1,backgroundColor:"green"}},l.a.createElement(C.a,{style:{flex:1,justifyContent:"flex-start",alignItems:"center"}},l.a.createElement(x.a,null,"Rollen")),l.a.createElement(C.a,{style:{flex:10}},l.a.createElement(z.b,{data:r,renderItem:function(e){var t=e.item;return l.a.createElement(C.a,{style:{flex:1,flexDirection:"row"}},l.a.createElement(U.a,{value:t.checked,onValueChange:function(e){!function(e,t){var n=r.slice();n[e.skill.id].checked=t,c(n),i()}(t,e)}}),l.a.createElement(x.a,null,t.skill.name))}})))}function L(e){return l.a.createElement(C.a,{style:{flex:1,justifyContent:"center",alignItems:"flex-start"}},l.a.createElement(x.a,{style:{fontSize:30}},e.children))}var V=n(39);function B(e){return l.a.createElement(C.a,{style:F.container},l.a.createElement(C.a,{style:{flex:1}},l.a.createElement(x.a,{style:{flex:1}},e.heading)),l.a.createElement(C.a,{style:{flex:1}},l.a.createElement(V.a,{style:{borderRadius:2,borderWidth:3,padding:5},placeholder:e.placeholder})))}var F=c.a.create({container:{flex:1,padding:5,flexDirection:"column",backgroundColor:"#fff"}});function J(e){var t=Object(a.useState)({id:3,name:"Babuschka Boi",roles:[],skills:[]}),n=v()(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),o=v()(i,2),s=o[0],u=o[1];return l.a.createElement(C.a,{style:M.container},e.modalCloseComponent,l.a.createElement(C.a,{style:{flex:1,flexDirection:"row"}},l.a.createElement(L,null,"1. Daten eingeben"),l.a.createElement(L,null,"2. Verf\xfcgbare Helfer")),l.a.createElement(C.a,{style:{flex:10,flexDirection:"row"}},l.a.createElement(C.a,{style:{flex:1}},l.a.createElement(C.a,{style:{flex:1,flexDirection:"column"}},l.a.createElement(C.a,{style:{flex:1,backgroundColor:"white",justifyContent:"center"}},l.a.createElement(C.a,{style:{flex:1,flexDirection:"row"}},l.a.createElement(C.a,{style:{flex:1}},l.a.createElement(B,{heading:"Titel",placeholder:"Titel"}),l.a.createElement(B,{heading:"Ort",placeholder:"Ort"})),l.a.createElement(C.a,{style:{flex:1}},l.a.createElement(B,{heading:"Datum",placeholder:"Datum"}),l.a.createElement(C.a,{style:{flex:1,padding:5,justifyContent:"center"}},l.a.createElement(x.a,{style:{}},"Dauer vor. X Stunden")))),l.a.createElement(C.a,{style:{flex:1,flexDirection:"row",backgroundColor:"white",justifyContent:"center",alignItems:"center"}},l.a.createElement(x.a,{style:{flex:1}},"Maps input"),l.a.createElement(C.a,{style:{flex:1,backgroundColor:"white"}},l.a.createElement(x.a,{style:{}},"Placeholder")))),l.a.createElement(C.a,{style:{flex:1,justifyContent:"center"}},l.a.createElement(x.a,null,"Placeholder")))),l.a.createElement(C.a,{style:{flex:1,flexDirection:"column"}},l.a.createElement(C.a,{style:{flex:2}},l.a.createElement(C.a,{style:{flex:3,flexDirection:"row"}},l.a.createElement(_,{helpRequest:r,render:s}),l.a.createElement(N,{helpRequest:r,setHelpRequest:c}),l.a.createElement(W,{helpRequest:r,setHelpRequest:function(e){c(e),u(!s),console.log(e)}}))),l.a.createElement(C.a,{style:{flex:2}},l.a.createElement(C.a,{style:{flex:5,flexDirection:"row"}},l.a.createElement(C.a,{style:{flex:1,backgroundColor:"green"}},l.a.createElement(A,{helpRequest:r}),l.a.createElement(z.g,{multiline:!0,style:{flex:3,backgroundColor:"white"},placeholder:"Nachricht"}),l.a.createElement(q.a,{style:{flex:1},onPress:function(){return alert("submit")},title:"Jetzt senden"})))))))}var M=c.a.create({container:{flex:1,maxWidth:1024,flexDirection:"column",backgroundColor:"white"}});function X(e){var t=Object(a.useState)(!0),n=v()(t,2),r=n[0],c=n[1],i=function(e,t){return l.a.createElement(b.a,{onPress:t},l.a.createElement(C.a,{style:{flex:1,backgroundColor:"lightblue",padding:12,margin:16,justifyContent:"center",alignItems:"center",borderRadius:4,borderColor:"rgba(0, 0, 0, 0.1)"}},l.a.createElement(x.a,null,e)))};return l.a.createElement(C.a,{style:G.container},l.a.createElement(C.a,{style:G.leftContainer},e.leftContent,i("+",(function(){c(!0)})),l.a.createElement(w.a,{isVisible:r},l.a.createElement(C.a,{style:{flex:1,backgroundColor:"white",padding:22,borderRadius:4,alignItems:"center",borderColor:"rgba(0, 0, 0, 0.1)"}},l.a.createElement(J,{modalCloseComponent:i("Close",(function(){c(!1)}))})))),l.a.createElement(C.a,{style:G.midContainer},e.midContent))}var G=c.a.create({container:{flex:1,flexDirection:"row",backgroundColor:"#fff"},leftContainer:{flex:1,backgroundColor:"#aaa"},midContainer:{flex:4,flexDirection:"column",backgroundColor:"red",justifyContent:"center",alignItems:"center"},rightContainer:{flex:1,backgroundColor:"#aaa"}}),Y=n(55);function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Q=function(e){g()(r,e);var t,n=(t=r,function(){var e,n=y()(t);if(K()){var r=y()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return h()(this,e)});function r(e){var t;return u()(this,r),(t=n.call(this,e)).state={loading:!1,dataSource:[]},t}return d()(r,[{key:"componentDidMount",value:function(){this.loadHelpRequests()}},{key:"selectItem",value:function(e){var t=this.state.dataSource.map((function(t){return t.isSelected=t.request.id==e.item.request.id,t}));this.setState({dataSource:t}),this.props.selectItem(e.item.request)}},{key:"renderItem",value:function(e){var t=this,n=e.item.isSelected?Z.selectedItem:{};return l.a.createElement(b.a,{onPress:function(){return t.selectItem(e)}},l.a.createElement(C.a,{style:{padding:8,paddingLeft:16}},l.a.createElement(x.a,{style:n},e.item.request.name),l.a.createElement(x.a,{style:n},e.item.request.created_at)))}},{key:"render",value:function(){var e=this;return l.a.createElement(Y.a,{data:this.state.dataSource,renderItem:function(t){return e.renderItem(t)}})}},{key:"loadHelpRequests",value:function(){var e=this;this.setState({loading:!0}),this.props.repository.getHelpRequests().then((function(t){return e.setState({loading:!1,dataSource:t.map((function(e){return{request:e,isSelected:!1}}))})}))}}]),r}(a.Component),Z={selectedItem:{fontWeight:"bold"}},$=n(103);function ee(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var te=function(e){g()(r,e);var t,n=(t=r,function(){var e,n=y()(t);if(ee()){var r=y()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return h()(this,e)});function r(e){var t;return u()(this,r),(t=n.call(this,e)).state={data:null},t}return d()(r,[{key:"setHelpRequest",value:function(e){this.setState({data:e})}}]),d()(r,[{key:"render",value:function(){return null==this.state||null==this.state.data?l.a.createElement(C.a,null):l.a.createElement(C.a,{style:ne.container},l.a.createElement(x.a,{style:ne.title},this.state.data.name),l.a.createElement(x.a,null,this.state.data.date_start),l.a.createElement(C.a,{style:ne.fixToText},l.a.createElement(q.a,{title:"Download PDF",onPress:function(){return $.a.alert("Left button pressed")}}),l.a.createElement(q.a,{title:"Download CSV",onPress:function(){return $.a.alert("Right button pressed")}})),l.a.createElement(x.a,null,"Es haben sich 4 potenzielle Helfer:innen auf deinen Aufruf gemeldet"),l.a.createElement(Y.a,{data:this.state.data.helpers,renderItem:function(e){return l.a.createElement(C.a,{style:ne.helperListItem},l.a.createElement(x.a,null,e.item.name),l.a.createElement(x.a,null,e.item.email),l.a.createElement(x.a,null,e.item.phone))}}))}}]),r}(a.Component),ne={container:{flex:1},title:{fontSize:24,fontWeight:"bold"},fixToText:{flexDirection:"row",justifyContent:"space-between"},helperListItem:{flexDirection:"row",justifyContent:"space-between"}};function re(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ae=new O,le=function(e){g()(r,e);var t,n=(t=r,function(){var e,n=y()(t);if(re()){var r=y()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return h()(this,e)});function r(){var e;u()(this,r);for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];return(e=n.call.apply(n,[this].concat(a))).leftContent=l.a.createElement(Q,{repository:ae,selectItem:function(t){return e.selectItem(t)}}),e.midContent=l.a.createElement(te,{initialState:{data:null},ref:function(t){return e.details=t}}),e}return d()(r,[{key:"selectItem",value:function(e){this.details.setHelpRequest(e)}},{key:"render",value:function(){return l.a.createElement(X,{leftContent:this.leftContent,midContent:this.midContent})}}]),r}(a.Component),ce=(c.a.create({container:{flex:1,flexDirection:"row",backgroundColor:"#fff"}}),Object(i.a)({Suche:le,Antworten:le})),ie=Object(o.createBrowserApp)(ce);function oe(){return l.a.createElement(ie,null)}n.d(t,"a",(function(){return oe}));c.a.create({container:{flex:1,flexDirection:"row",backgroundColor:"#fff"},leftContainer:{flex:1,backgroundColor:"#aaa"},midContainer:{flex:2,backgroundColor:"red"},rightContainer:{flex:1,backgroundColor:"#aaa"}})},187:function(e,t,n){n(188),e.exports=n(256)},188:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/helfer-app/expo-service-worker.js",{scope:"/helfer-app/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[187,1,2]]]);
//# sourceMappingURL=app.26d9a2bf.chunk.js.map